
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>All Nobel Prizes Explorer</title>
<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap" rel="stylesheet">
<style>
  body { font-family: 'Raleway', sans-serif; margin: 0; background: #f0f8ff; color: #333; }
  header, footer { background: #006064; color: white; text-align: center; padding: 20px; }
  header h1 { margin: 0; font-size: 2.5em; }
  .container { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin: 20px; }
  section { flex: 1 1 300px; background: white; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); padding: 20px; min-width: 280px; max-width: 30%; }
  section h2 { margin-top: 0; }
  select {
    width: 100%; padding: 10px; margin-bottom: 15px;
    border-radius: 8px; border: 2px solid #4dd0e1;
    font-size: 16px; max-height: 200px; overflow-y: auto;
  }
  ul { list-style: none; padding: 0; }
  li { padding: 10px; border-bottom: 1px solid #ddd; cursor: pointer; transition: background 0.3s; }
  li:hover { background: #b2ebf2; }
  .overlay { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); z-index: 900; }
  .popup { display: none; position: fixed; top:50%; left:50%; transform: translate(-50%,-50%);
    background:white; padding:20px; border-radius:10px; z-index:1000; box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    text-align:center; width: 90%; max-width: 400px;}

  /* Added styles for form */
  form {
    margin-top: 15px;
  }
  form textarea {
    width: 92%;
    padding: 10px;
    border-radius: 8px;
    border: 2px solid #4dd0e1;
    font-size: 16px;
    resize: vertical;
    min-height: 80px;
    transition: border-color 0.3s, box-shadow 0.3s;
  }
  form textarea:focus {
    border-color: #00acc1;
    box-shadow: 0 0 8px rgba(0,172,193,0.5);
    outline: none;
  }
  form button {
    background: #00acc1;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s, transform 0.2s;
  }
  form button:hover {
    background: #007c91;
    transform: scale(1.05);
  }
</style>
</head>
<body>
<header>
<marquee>
  <h1>Explore The Nobel Prize Winners - SRM Welkin Students</h1>
</marquee>
  <p>Physics, Chemistry, Medicine, Literature, Peace, Economics</p>
  <p>1901 - 2024</p>
</header>

<div class="container">
  <section>
    <h2 style="color:#00acc1;">Physics</h2>
    <select id="physics" onchange="showList(this.value, 'physics')">
      <option value="">Select year</option>
    </select>
    <ul id="physicsList"></ul>
<form action="https://formspree.io/f/xrbzezdd" method="POST">
  <input type="hidden" name="container" value="Physics">
  <textarea name="comment" placeholder="Add your point..." required></textarea><br>
  <button type="submit">Submit</button>
</form>
  </section>

  <section>
    <h2 style="color:#7b1fa2;">Chemistry</h2>
    <select id="chemistry" onchange="showList(this.value, 'chemistry')">
      <option value="">Select year</option>
    </select>
    <ul id="chemistryList"></ul>
<form action="https://formspree.io/f/xrbzezdd" method="POST">
  <input type="hidden" name="container" value="Chemistry">
  <textarea name="comment" placeholder="Add your point..." required></textarea><br>
  <button type="submit">Submit</button>
</form>
  </section>

  <section>
    <h2 style="color:#c2185b;">Medicine</h2>
    <select id="medicine" onchange="showList(this.value, 'medicine')">
      <option value="">Select year</option>
    </select>
    <ul id="medicineList"></ul>
<form action="https://formspree.io/f/xrbzezdd" method="POST">
  <input type="hidden" name="container" value="Medicine">
  <textarea name="comment" placeholder="Add your point..." required></textarea><br>
  <button type="submit">Submit</button>
</form>
  </section>

  <section>
    <h2 style="color:#f57c00;">Literature</h2>
    <select id="literature" onchange="showList(this.value, 'literature')">
      <option value="">Select year</option>
    </select>
    <ul id="literatureList"></ul>
<form action="https://formspree.io/f/xrbzezdd" method="POST">
  <input type="hidden" name="container" value="Literature">
  <textarea name="comment" placeholder="Add your point..." required></textarea>
  <br>
  <button type="submit">Submit</button>
</form>
  </section>

  <section>
    <h2 style="color:#388e3c;">Peace</h2>
    <select id="peace" onchange="showList(this.value, 'peace')">
      <option value="">Select year</option>
    </select>
    <ul id="peaceList"></ul>
<form action="https://formspree.io/f/xrbzezdd" method="POST">
  <input type="hidden" name="container" value="Peace">
  <textarea name="comment" placeholder="Add your point..." required></textarea><br>
  <button type="submit">Submit</button>
</form>
  </section>

  <section>
    <h2 style="color:#455a64;">Economics</h2>
    <select id="economics" onchange="showList(this.value, 'economics')">
      <option value="">Select year</option>
    </select>
    <ul id="economicsList"></ul>
<form action="https://formspree.io/f/xrbzezdd" method="POST">
  <input type="hidden" name="container" value="Economics">
  <textarea name="comment" placeholder="Add your point..." required></textarea><br>
  <button type="submit">Submit</button>
</form>
  </section>
</div>

<footer>
  <marquee>
  &copy; 2025 Nobel Explorer | Taezeem Class 7th Rose
  </marquee>
</footer>

<div class="overlay"></div>
<div class="popup">
  <h3 id="popupName"></h3>
  <p><strong>Year:</strong> <span id="popupYear"></span></p>
  <p><strong>Work:</strong> <span id="popupWork"></span></p>
</div>

<script>
const data = {
  physics: {}, chemistry: {}, medicine: {}, literature: {}, peace: {}, economics: {}
};

async function fetchNobelData() {
  const response = await fetch("https://api.nobelprize.org/2.1/nobelPrizes?limit=1000");
  const json = await response.json();
  json.nobelPrizes.forEach(prize => {
    let cat = prize.category.en.toLowerCase();
    if (cat === 'economic sciences') cat = 'economics';
    if (cat === 'physiology or medicine') cat = 'medicine';
    if (!data[cat]) return;
    const year = prize.awardYear;
    if (!data[cat][year]) data[cat][year] = [];
    prize.laureates?.forEach(l => {
      data[cat][year].push({
        name: l.knownName?.en || l.fullName?.en || `${l.firstName?.en || ''} ${l.surname?.en || ''}`.trim(),
        work: l.motivation?.en || "No description"
      });
    });
  });
  populateAll();
}

function populateDropdown(category) {
  const years = Object.keys(data[category]).sort((a,b)=>b - a);
  const select = document.getElementById(category);
  select.innerHTML = '<option value="">Select year</option>';
  years.forEach(year => {
    const opt = document.createElement("option");
    opt.value = year;
    opt.textContent = year;
    select.appendChild(opt);
  });
}

function populateAll() {
  ["physics","chemistry","medicine","literature","peace","economics"].forEach(populateDropdown);
}

function showList(year, category) {
  const list = document.getElementById(category + "List");
  list.innerHTML = "";
  if (data[category][year]) {
    data[category][year].forEach(item => {
      const li = document.createElement("li");
      li.textContent = item.name;
      li.onclick = () => showPopup(item.name, year, item.work);
      list.appendChild(li);
    });
  }
}

const overlay = document.querySelector(".overlay");
const popup = document.querySelector(".popup");

function showPopup(name, year, work) {
  document.getElementById("popupName").textContent = name;
  document.getElementById("popupYear").textContent = year;
  document.getElementById("popupWork").textContent = work;
  overlay.style.display = "block";
  popup.style.display = "block";
}

overlay.onclick = () => {
  overlay.style.display = "none";
  popup.style.display = "none";
};

fetchNobelData();
</script>
</body>
</html>
