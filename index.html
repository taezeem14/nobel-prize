<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Explore the lives and legacies of Nobel Prize winners at Prixe.tech.">
<title>Nobel Prize Explorer â€¢ Elite Mode</title>
<link rel="icon" href="favicon.png" type="image/png" sizes="32x32">
<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;600;700&display=swap" rel="stylesheet">

<style>
  :root {
    --physics: #00acc1; --chemistry: #7b1fa2; --medicine: #c2185b; --literature: #f57c00; --peace: #388e3c; --economics: #455a64;
    --bg: #f9f9f9; --card-bg: #fff; --text-color: #333;
    --dark-bg: #121212; --dark-card: #1f1f1f; --dark-text: #eee;
  }

  body { font-family:'Raleway', sans-serif; margin:0; background: var(--bg); color: var(--text-color); transition: background 0.3s, color 0.3s; }
  body.dark { background: var(--dark-bg); color: var(--dark-text); }
  nav, footer { display:flex; align-items:center; justify-content:space-between; padding:1rem 2rem; background:#006064; color:#fff; }
  nav input { padding:0.5rem 1rem; border-radius:8px; border:none; font-size:1rem; outline:none; }

  .toggle-btn { cursor:pointer; background:#00acc1; border:none; color:#fff; padding:0.5rem 1rem; border-radius:8px; transition:0.3s; }
  .toggle-btn:hover { background:#007c91; }

  header { text-align:center; padding:2rem 1rem; }
  header h2 { font-weight:600; font-size:1.5rem; color:#007c91; }
  header p { font-size:0.95rem; color:#555; }

  .filters { display:flex; flex-wrap:wrap; justify-content:center; gap:1rem; margin:1rem auto; }
  .filters select { padding:0.5rem 1rem; border-radius:8px; border:1.5px solid #00acc1; font-size:1rem; }

  .container { display:flex; flex-wrap:wrap; justify-content:center; gap:1.5rem; padding:1rem; max-width:1400px; margin:auto; }

  section { flex:1 1 300px; max-width:300px; background: var(--card-bg); border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.08); padding:1.5rem; transition: transform 0.3s, box-shadow 0.3s, background 0.3s, color 0.3s; display:flex; flex-direction:column; gap:1rem; }
  body.dark section { background: var(--dark-card); color: var(--dark-text); }
  section:hover { transform: translateY(-5px); box-shadow:0 10px 25px rgba(0,0,0,0.15); }

  .badge { padding:0.3rem 0.7rem; border-radius:6px; color:#fff; font-size:0.8rem; display:inline-block; margin-bottom:0.5rem; }

  ul { list-style:none; max-height:200px; overflow-y:auto; padding:0; margin:0; }
  li { padding:0.6rem 0.8rem; border-bottom:1px solid #eee; border-radius:6px; cursor:pointer; transition:0.3s; font-weight:500; position:relative; }
  li:hover { background:#e0f7fa; }
  body.dark li:hover { background:#333; }

  form { display:flex; flex-direction:column; gap:0.5rem; }
  form textarea { padding:0.7rem; border-radius:8px; border:1.5px solid #00acc1; resize:vertical; min-height:70px; transition:0.3s; }
  form textarea:focus { border-color:#007c91; box-shadow:0 0 6px rgba(0,172,193,0.3); outline:none; }
  form button { background:#00acc1; color:#fff; border:none; padding:0.6rem 1rem; border-radius:8px; cursor:pointer; transition:0.2s; }
  form button:hover { background:#007c91; transform:scale(1.05); }

  .overlay { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.6); z-index:100; }
  .popup { display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
    background:#fff; padding:2rem; border-radius:12px; max-width:450px; width:90%; box-shadow:0 10px 30px rgba(0,0,0,0.2); text-align:center; animation:popIn 0.3s ease forwards; z-index:101; }
  body.dark .popup { background:#1f1f1f; color:#eee; }
  .popup h3 { font-size:1.5rem; margin-bottom:0.5rem; }
  .popup p { margin:0.4rem 0; }

  @keyframes popIn { from {opacity:0; transform:translate(-50%,-60%) scale(0.95);} to {opacity:1; transform:translate(-50%,-50%) scale(1);} }

  footer { text-align:center; padding:1.5rem; background:#006064; color:#fff; margin-top:2rem; font-size:0.85rem; }

  /* Tooltip for winner photo */
  li[data-photo]::after {
    content:'';
    position:absolute; right:5px; top:50%; transform:translateY(-50%);
    width:20px; height:20px; background:url('') no-repeat center/cover; border-radius:50%; }
  li:hover::after { transform: translateY(-50%) scale(1.2); transition:0.3s; }

  /* RESPONSIVE */
  @media(max-width:768px){ .container{flex-direction:column; align-items:center;} section{max-width:90%;} .filters{flex-direction:column;} }
</style>
</head>

<body>
<nav>
  <h1>Nobel Explorer</h1>
  <div>
    <input type="text" id="searchBox" placeholder="Search winner..." oninput="searchWinner(this.value)">
    <button class="toggle-btn" onclick="toggleDark()">ðŸŒ™ Dark/Light</button>
  </div>
</nav>

<header>
  <h2>Discover Nobel Prize Winners 1901-2024</h2>
  <p>Physics | Chemistry | Medicine | Literature | Peace | Economics</p>
</header>

<div class="filters">
  <select id="filterCategory" onchange="applyFilter()">
    <option value="">All Categories</option>
    <option value="physics">Physics</option>
    <option value="chemistry">Chemistry</option>
    <option value="medicine">Medicine</option>
    <option value="literature">Literature</option>
    <option value="peace">Peace</option>
    <option value="economics">Economics</option>
  </select>
  <select id="filterYear" onchange="applyFilter()">
    <option value="">All Years</option>
  </select>
</div>

<div class="container" id="container"></div>

<div class="overlay"></div>
<div class="popup">
  <h3 id="popupName"></h3>
  <p><strong>Year:</strong> <span id="popupYear"></span></p>
  <p><strong>Work:</strong> <span id="popupWork"></span></p>
</div>

<footer>&copy; 2025 Nobel Explorer | Taezeem Class 7th Rose</footer>

<script>
const data={physics:{}, chemistry:{}, medicine:{}, literature:{}, peace:{}, economics:{}};

async function fetchNobelData(){
  const res = await fetch('https://api.nobelprize.org/2.1/nobelPrizes?limit=1000');
  const json = await res.json();
  json.nobelPrizes.forEach(p=>{
    let cat=p.category.en.toLowerCase();
    if(cat==='economic sciences') cat='economics';
    if(cat==='physiology or medicine') cat='medicine';
    if(!data[cat]) return;
    const year=p.awardYear;
    if(!data[cat][year]) data[cat][year]=[];
    p.laureates?.forEach(l=>{
      data[cat][year].push({
        name: l.knownName?.en || l.fullName?.en || `${l.firstName?.en||''} ${l.surname?.en||''}`.trim(),
        work: l.motivation?.en || "No description",
        photo: l?.links?.[0]?.href || ''
      });
    });
  });
  populateFilters();
  renderAll();
}

// Populate year filter
function populateFilters(){
  const yearSet=new Set();
  Object.values(data).forEach(cat=>{
    Object.keys(cat).forEach(y=>yearSet.add(y));
  });
  const filterYear=document.getElementById('filterYear');
  Array.from(yearSet).sort((a,b)=>b-a).forEach(y=>{
    const opt=document.createElement('option'); opt.value=y; opt.textContent=y; filterYear.appendChild(opt);
  });
}

// Render winners dynamically (infinite scroll placeholder)
function renderAll(category='', year=''){
  const container=document.getElementById('container');
  container.innerHTML='';
  Object.entries(data).forEach(([cat,cats])=>{
    if(category && category!==cat) return;
    Object.entries(cats).forEach(([y,list])=>{
      if(year && year!==y) return;
      list.forEach(item=>{
        const sec=document.createElement('section');
        sec.innerHTML=`<span class="badge" style="background: var(--${cat})">${cat}</span>
          <h3>${item.name}</h3>
          <p>${y}</p>`;
        sec.onclick=()=>showPopup(item.name,y,item.work);
        container.appendChild(sec);
      });
    });
  });
}

// Filters
function applyFilter(){
  const cat=document.getElementById('filterCategory').value;
  const year=document.getElementById('filterYear').value;
  renderAll(cat,year);
}

// Dark toggle
function toggleDark(){ document.body.classList.toggle('dark'); }

// Search
function searchWinner(query){
  query=query.toLowerCase();
  document.querySelectorAll('.container section').forEach(sec=>{
    sec.style.display=sec.textContent.toLowerCase().includes(query)?'flex':'none';
  });
}

// Popup
const overlay=document.querySelector('.overlay'); const popup=document.querySelector('.popup');
function showPopup(n,y,w){ document.getElementById('popupName').textContent=n; document.getElementById('popupYear').textContent=y; document.getElementById('popupWork').textContent=w; overlay.style.display='block'; popup.style.display='block'; }
overlay.onclick=()=>{ overlay.style.display='none'; popup.style.display='none'; }

fetchNobelData();
</script>
</body>
</html>
