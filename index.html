<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Explore the lives and legacies of Nobel Prize winners at Prixe.tech. From peace to physics, dive into the stories behind the worldâ€™s greatest minds.">
  <title>Nobel Prize Explorer</title>
  <link rel="icon" href="favicon.png" type="image/png" sizes="32x32">
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    /* Reset & base */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Raleway', sans-serif; background: #f9f9f9; color: #333; line-height: 1.6; }
    a { text-decoration: none; color: inherit; }

    header, footer { background: #006064; color: #fff; text-align: center; padding: 1.5rem 1rem; }
    header h1 { font-weight: 700; font-size: 2rem; }
    header p { font-size: 0.95rem; margin-top: 0.3rem; color: #b2ebf2; }

    .container { display: flex; flex-wrap: wrap; justify-content: center; gap: 1.5rem; padding: 2rem 1rem; max-width: 1300px; margin: auto; }

    section { flex: 1 1 280px; background: #fff; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,0.08); padding: 1.5rem; transition: transform 0.3s, box-shadow 0.3s; }
    section:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.12); }
    section h2 { margin-bottom: 1rem; font-size: 1.5rem; }

    select {
      width: 100%;
      padding: 0.75rem;
      border-radius: 8px;
      border: 1.8px solid #00acc1;
      font-size: 1rem;
      margin-bottom: 1rem;
      cursor: pointer;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    select:focus { border-color: #007c91; box-shadow: 0 0 8px rgba(0,172,193,0.3); outline: none; }

    ul { list-style: none; margin-top: 0.5rem; }
    li { padding: 0.75rem 1rem; border-bottom: 1px solid #eee; cursor: pointer; transition: background 0.3s; border-radius: 6px; }
    li:hover { background: #e0f7fa; }

    form { margin-top: 1rem; }
    form textarea {
      width: 100%;
      padding: 0.75rem;
      border-radius: 8px;
      border: 1.8px solid #00acc1;
      font-size: 1rem;
      resize: vertical;
      min-height: 80px;
      transition: border-color 0.3s, box-shadow 0.3s;
    }
    form textarea:focus { border-color: #007c91; box-shadow: 0 0 8px rgba(0,172,193,0.3); outline: none; }

    form button {
      background: #00acc1;
      color: white;
      border: none;
      padding: 0.7rem 1.5rem;
      font-size: 1rem;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 0.5rem;
      transition: background 0.3s, transform 0.2s;
    }
    form button:hover { background: #007c91; transform: scale(1.05); }

    .overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      z-index: 100;
      transition: opacity 0.3s;
    }

    .popup {
      display: none;
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
      padding: 2rem;
      border-radius: 12px;
      max-width: 450px;
      width: 90%;
      z-index: 101;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      text-align: center;
      animation: popIn 0.3s ease forwards;
    }

    .popup h3 { margin-bottom: 0.5rem; font-size: 1.4rem; }
    .popup p { margin: 0.5rem 0; }

    @keyframes popIn { from { opacity: 0; transform: translate(-50%, -60%) scale(0.95); } to { opacity: 1; transform: translate(-50%, -50%) scale(1); } }

    footer p { font-size: 0.85rem; color: #b2ebf2; }

    /* Responsive tweaks */
    @media (max-width: 768px) { .container { flex-direction: column; align-items: center; } section { max-width: 90%; } }
  </style>
</head>
<body>

<header>
  <h1>Nobel Prize Explorer</h1>
  <p>Physics | Chemistry | Medicine | Literature | Peace | Economics (1901 - Present)</p>
</header>

<div class="container">
  <!-- Section template (repeat for each category) -->
  <section>
    <h2 style="color:#00acc1;">Physics</h2>
    <select id="physics" onchange="showList(this.value,'physics')"><option value="">Select year</option></select>
    <ul id="physicsList"></ul>
    <form action="https://formspree.io/f/xrbzezdd" method="POST">
      <input type="hidden" name="container" value="Physics">
      <textarea name="comment" placeholder="Add your point..." required></textarea>
      <button type="submit">Submit</button>
    </form>
  </section>

  <section>
    <h2 style="color:#7b1fa2;">Chemistry</h2>
    <select id="chemistry" onchange="showList(this.value,'chemistry')"><option value="">Select year</option></select>
    <ul id="chemistryList"></ul>
    <form action="https://formspree.io/f/xrbzezdd" method="POST">
      <input type="hidden" name="container" value="Chemistry">
      <textarea name="comment" placeholder="Add your point..." required></textarea>
      <button type="submit">Submit</button>
    </form>
  </section>

  <section>
    <h2 style="color:#c2185b;">Medicine</h2>
    <select id="medicine" onchange="showList(this.value,'medicine')"><option value="">Select year</option></select>
    <ul id="medicineList"></ul>
    <form action="https://formspree.io/f/xrbzezdd" method="POST">
      <input type="hidden" name="container" value="Medicine">
      <textarea name="comment" placeholder="Add your point..." required></textarea>
      <button type="submit">Submit</button>
    </form>
  </section>

  <section>
    <h2 style="color:#f57c00;">Literature</h2>
    <select id="literature" onchange="showList(this.value,'literature')"><option value="">Select year</option></select>
    <ul id="literatureList"></ul>
    <form action="https://formspree.io/f/xrbzezdd" method="POST">
      <input type="hidden" name="container" value="Literature">
      <textarea name="comment" placeholder="Add your point..." required></textarea>
      <button type="submit">Submit</button>
    </form>
  </section>

  <section>
    <h2 style="color:#388e3c;">Peace</h2>
    <select id="peace" onchange="showList(this.value,'peace')"><option value="">Select year</option></select>
    <ul id="peaceList"></ul>
    <form action="https://formspree.io/f/xrbzezdd" method="POST">
      <input type="hidden" name="container" value="Peace">
      <textarea name="comment" placeholder="Add your point..." required></textarea>
      <button type="submit">Submit</button>
    </form>
  </section>

  <section>
    <h2 style="color:#455a64;">Economics</h2>
    <select id="economics" onchange="showList(this.value,'economics')"><option value="">Select year</option></select>
    <ul id="economicsList"></ul>
    <form action="https://formspree.io/f/xrbzezdd" method="POST">
      <input type="hidden" name="container" value="Economics">
      <textarea name="comment" placeholder="Add your point..." required></textarea>
      <button type="submit">Submit</button>
    </form>
  </section>
</div>

<footer>
  <p>&copy; 2025 Nobel Explorer | Taezeem Class 7th Rose</p>
</footer>

<div class="overlay"></div>
<div class="popup">
  <h3 id="popupName"></h3>
  <p><strong>Year:</strong> <span id="popupYear"></span></p>
  <p><strong>Work:</strong> <span id="popupWork"></span></p>
</div>

<script>
const data = { physics: {}, chemistry: {}, medicine: {}, literature: {}, peace: {}, economics: {} };

async function fetchNobelData() {
  const response = await fetch("https://api.nobelprize.org/2.1/nobelPrizes?limit=1000");
  const json = await response.json();
  json.nobelPrizes.forEach(prize => {
    let cat = prize.category.en.toLowerCase();
    if (cat === 'economic sciences') cat = 'economics';
    if (cat === 'physiology or medicine') cat = 'medicine';
    if (!data[cat]) return;
    const year = prize.awardYear;
    if (!data[cat][year]) data[cat][year] = [];
    prize.laureates?.forEach(l => {
      data[cat][year].push({
        name: l.knownName?.en || l.fullName?.en || `${l.firstName?.en || ''} ${l.surname?.en || ''}`.trim(),
        work: l.motivation?.en || "No description"
      });
    });
  });
  populateAll();
}

function populateDropdown(category) {
  const years = Object.keys(data[category]).sort((a,b)=>b - a);
  const select = document.getElementById(category);
  select.innerHTML = '<option value="">Select year</option>';
  years.forEach(year => {
    const opt = document.createElement("option");
    opt.value = year;
    opt.textContent = year;
    select.appendChild(opt);
  });
}

function populateAll() {
  ["physics","chemistry","medicine","literature","peace","economics"].forEach(populateDropdown);
}

function showList(year, category) {
  const list = document.getElementById(category + "List");
  list.innerHTML = "";
  if (data[category][year]) {
    data[category][year].forEach(item => {
      const li = document.createElement("li");
      li.textContent = item.name;
      li.onclick = () => showPopup(item.name, year, item.work);
      list.appendChild(li);
    });
  }
}

const overlay = document.querySelector(".overlay");
const popup = document.querySelector(".popup");

function showPopup(name, year, work) {
  document.getElementById("popupName").textContent = name;
  document.getElementById("popupYear").textContent = year;
  document.getElementById("popupWork").textContent = work;
  overlay.style.display = "block";
  popup.style.display = "block";
}

overlay.onclick = () => {
  overlay.style.display = "none";
  popup.style.display = "none";
};

fetchNobelData();
</script>

</body>
</html>
